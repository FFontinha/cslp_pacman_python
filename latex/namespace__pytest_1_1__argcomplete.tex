\hypertarget{namespace__pytest_1_1__argcomplete}{}\section{\+\_\+pytest.\+\_\+argcomplete Namespace Reference}
\label{namespace__pytest_1_1__argcomplete}\index{\+\_\+pytest.\+\_\+argcomplete@{\+\_\+pytest.\+\_\+argcomplete}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class__pytest_1_1__argcomplete_1_1_fast_files_completer}{Fast\+Files\+Completer}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespace__pytest_1_1__argcomplete_abd07c223377149b789ee926e80aed5d9}\label{namespace__pytest_1_1__argcomplete_abd07c223377149b789ee926e80aed5d9}} 
def {\bfseries try\+\_\+argcomplete} (parser)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespace__pytest_1_1__argcomplete_aa50b6bcac999d07ffa8d0d61a192cfe5}\label{namespace__pytest_1_1__argcomplete_aa50b6bcac999d07ffa8d0d61a192cfe5}} 
{\bfseries filescompleter} = \hyperlink{class__pytest_1_1__argcomplete_1_1_fast_files_completer}{Fast\+Files\+Completer}()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}allow bash-completion for argparse with argcomplete if installed
needs argcomplete>=0.5.6 for python 3.2/3.3 (older versions fail
to find the magic string, so _ARGCOMPLETE env. var is never set, and
this does not need special code.

Function try_argcomplete(parser) should be called directly before
the call to ArgumentParser.parse_args().

The filescompleter is what you normally would use on the positional
arguments specification, in order to get "dirname/" after "dirn<TAB>"
instead of the default "dirname ":

   optparser.add_argument(Config._file_or_dir, nargs='*'
                           ).completer=filescompleter

Other, application specific, completers should go in the file
doing the add_argument calls as they need to be specified as .completer
attributes as well. (If argcomplete is not installed, the function the
attribute points to will not be used).

SPEEDUP
=======
The generic argcomplete script for bash-completion
(/etc/bash_completion.d/python-argcomplete.sh )
uses a python program to determine startup script generated by pip.
You can speed up completion somewhat by changing this script to include
  # PYTHON_ARGCOMPLETE_OK
so the the python-argcomplete-check-easy-install-script does not
need to be called to find the entry point of the code and see if that is
marked  with PYTHON_ARGCOMPLETE_OK

INSTALL/DEBUGGING
=================
To include this support in another application that has setup.py generated
scripts:
- add the line:
# PYTHON_ARGCOMPLETE_OK
  near the top of the main python entry point
- include in the file calling parse_args():
from _argcomplete import try_argcomplete, filescompleter
   , call try_argcomplete just before parse_args(), and optionally add
   filescompleter to the positional arguments' add_argument()
If things do not work right away:
- switch on argcomplete debugging with (also helpful when doing custom
  completers):
export _ARC_DEBUG=1
- run:
python-argcomplete-check-easy-install-script $(which appname)
echo $?
  will echo 0 if the magic line has been found, 1 if not
- sometimes it helps to find early on errors using:
_ARGCOMPLETE=1 _ARC_DEBUG=1 appname
  which should throw a KeyError: 'COMPLINE' (which is properly set by the
  global argcomplete script).
\end{DoxyVerb}
 